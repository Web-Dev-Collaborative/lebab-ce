'use strict';var lb_usercode=$('#lb-usercode'),lb_code=document.getElementById('lb-code'),browser=!1,minified=!1,lb_usrtxt,lb_txt;if('undefined'!=typeof Worker){if('undefined'==typeof worker)var worker=new Worker('assets/js/worker.min.js');worker.addEventListener('message',function(a){var b=a.data;switch(b.cmd){case'lebab':$('#lb-ver').prop('src','https://img.shields.io/badge/lebab-'+b.semver+'-brightgreen.svg'),start();break;case'defaultCode':initiate(b.code),transform();break;case'transformed':lb_txt.setValue(b.code);}},!1)}else{var sc=document.createElement('script');sc.src='assets/js/main-fallback.js',document.body.appendChild(sc)}function prepare(){worker.postMessage({cmd:'prepare',msg:''})}function start(){worker.postMessage({cmd:'start',msg:''})}function getOpts(){var a=[];return $('.lb-optionsbox input:checked').each(function(b,d){a.push($(d).siblings('.custom-control-description').text())}),a}function transform(a){var b=a||lb_usrtxt.getValue(),d=getOpts();worker.postMessage({cmd:'transform',msg:{code:b,opts:d,browser:browser,minified:minified}})}function initiate(a){lb_usercode.val(a.trim()),lb_usrtxt=CodeMirror.fromTextArea(lb_usercode.get(0),{lineNumbers:!0,theme:'panda-syntax',lineWrapping:!0,mode:'javascript',showCursorWhenSelecting:!0}),lb_txt=CodeMirror.fromTextArea(lb_code,{lineNumbers:!0,theme:'panda-syntax',lineWrapping:!0,mode:'javascript',readOnly:!0}),$('.lb-optionsbox').on('click',function(b){var d=$(b.currentTarget);$(b.target).blur();var f=d.find('input');return f.prop('checked',!f.prop('checked')),transform(),!1}),$('.cm-topminify').show(),$('.cm-topminify-es2015').show(),$('.lb-checkbox-es2015').on('click',function(){$(this).toggleClass('checked'),browser=!!$(this).hasClass('checked'),transform()}),$('.lb-checkbox').on('click',function(){$(this).toggleClass('checked'),minified=!!$(this).hasClass('checked'),transform()}),lb_usrtxt.on('change',function(b){transform(b.doc.getValue())})}prepare();