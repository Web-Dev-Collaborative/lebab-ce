'use strict';importScripts('https://unpkg.com/babel-standalone@6.25.0/babel.min.js','https://unpkg.com/babili-standalone@0.0.10/babili.min.js'),self.addEventListener('message',function(a){var b=a.data;switch(b.cmd){case'prepare':loadLebab(function(d){self.postMessage({cmd:'lebab',semver:d})});break;case'start':var c=defaultCode();self.postMessage({cmd:'defaultCode',code:c});break;case'transform':var c=transform(b.msg.code,b.msg.opts,b.msg.browser,b.msg.minified);self.postMessage({cmd:'transformed',code:c});}},!1);function transform(a,b,c,d){var a=lebab.transform(a,b);return a=lebab.transform(a.code,b),c&&(a.code=transpile(a.code)),d&&(a.code=minify(a.code)),a.code}function transpile(a){return Babel.transform(a,{presets:['es2015']}).code}function minify(a){return Babili.transform(a).code}function loadLebab(a){var b=new Request('https://umdfied.herokuapp.com/umdfied/lebab/latest');fetch(b).then(function(c){var d=c.json();d.then(function(f){!0===f.success&&(a(f.message.semver),importScripts(f.message.url))})})}function defaultCode(){return'\n\'use strict\';\n\n// Let/const\nvar name = \'Bob\', time = \'yesterday\';\ntime = \'today\';\n\n// Template string\nconsole.log(\'Hello \' + name + \', how are you \' + time + \'?\');\n\nvar bob = {\n  // Object shorthand\n  name: name,\n  // Object method\n  sayMyName: function () {\n    console.log(this.name);\n  }\n};\n\n// Classes\nvar SkinnedMesh = function SkinnedMesh() {\n};\n\nSkinnedMesh.prototype.update = function (camera) {\n  camera = camera || createCamera();\n  this.camera = camera;\n};\n\nObject.defineProperty(SkinnedMesh.prototype, \'name\', {\n  set: function (geometry) {\n    this.geometry = geometry;\n  },\n  get: function () {\n    return this.geometry;\n  }\n});\n\n// Commonjs\nvar lebab = require(\'lebab\');\nmodule.exports = SkinnedMesh;\n\n// Arrow functions\nvar render = function () {\n  // ...\n  requestAnimationFrame(render);\n};\n\n// Arrow async functions\nvar renderAsync = async function () {\n  // ...\n  await requestAnimationFrame(render);\n};\n    '}